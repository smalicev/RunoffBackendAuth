(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4627:function(e,t,r){Promise.resolve().then(r.bind(r,9237))},9237:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eD}});var i=r(3827),n=r(197),o=r(4090),a=r(368);function s(e){let[t,r]=(0,o.useState)(!1),n=(0,a.Z)(),s=e.defaultStyle,l=e.style,c=t?{...s,backgroundColor:n.palette.primary.dark,border:l?l.border:void 0,borderRadius:l?l.borderRadius:void 0,boxShadow:l?l.boxShadow:void 0}:s;return(0,i.jsx)("div",{onMouseEnter:function(){r(!0)},onMouseLeave:function(){r(!1)},style:c,children:e.children})}r(7175);var l=r(4272),c=r(703),d={src:"/Dashboard/hydrosim/appl//_next/static/media/documentation.dec892cc.svg",height:24,width:24,blurWidth:0,blurHeight:0},u=r(634),h=r(6285);let m={position:"absolute",top:"50%",left:"50%",display:"flex",flexDirection:"column",rowGap:"2rem",transform:"translate(-50%, -50%)",bgcolor:"primary.dark",boxShadow:24,pt:2,px:4,pb:3};function p(){let[e,t]=o.useState(!1);(0,a.Z)();let r=()=>{t(!1)};return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(h.Z,{color:"secondary",variant:"contained",onClick:()=>{t(!0)},children:"Equation Sheet"}),(0,i.jsx)(u.Z,{open:e,onClose:r,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,i.jsxs)(l.Z,{color:"secondary.main",sx:{...m,width:"20rem"},children:[(0,i.jsx)("h2",{id:"child-modal-title",children:"Text in a child modal"}),(0,i.jsx)("p",{id:"child-modal-description",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit."}),(0,i.jsx)(h.Z,{color:"secondary",variant:"contained",onClick:r,children:"Close Child Modal"})]})})]})}function x(e){let{buttonLabel:t,icon:r,modalText:n,childModalText:s,fullDoc:c}=e,[d,x]=o.useState(!1);(0,a.Z)();let g=()=>{x(!0)};return(0,i.jsxs)("div",{children:[(0,i.jsxs)(h.Z,{sx:{color:"black",textShadow:"0px 0px 2px rgba(0, 0, 0, 0.26)"},onClick:g,children:[t," ",r]}),(0,i.jsx)(u.Z,{open:d,onClose:()=>{x(!1)},"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,i.jsxs)(l.Z,{color:"secondary.main",sx:{...m,width:"35rem"},children:[(0,i.jsx)("h2",{id:"parent-modal-title",children:"Summary"}),(0,i.jsx)("p",{id:"parent-modal-description",children:n}),(0,i.jsx)(p,{}),(0,i.jsx)(h.Z,{color:"secondary",variant:"contained",onClick:g,children:"Full Documentation"})]})})]})}function g(e){let{title:t,firstChild:r,secondChild:n,DataObjectArray:o,accordionClick:s,modalText:u,childModalText:h}=e;(0,a.Z)();let m={backgroundColor:"primary.main",display:"flex",color:"secondary.main",textShadow:"0px 0px 2px rgba(0, 0, 0, 0.26)",flexDirection:"column",rowGap:"1rem",justifyContent:"flex-start",height:"100vh",padding:"2rem",boxShadow:"rgba(0, 0, 0, 0.25) 0px 28px 20px",ul:{display:"flex",flexDirection:"column",listStyleType:"none",rowGap:"1rem"}};return(0,i.jsxs)(l.Z,{color:"secondary.main",sx:m,children:[(0,i.jsx)("h1",{children:t}),(0,i.jsx)("ul",{style:m.ul,children:(0,i.jsx)(x,{modalText:u,childModalText:"tet",buttonLabel:"Documentation",icon:(0,i.jsx)(c.default,{src:d,height:"3rem",width:"3rem",alt:"icon of a sheet of paper"})})}),"HydroSim"===t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Tools"}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",columnGap:"1rem",justifyContent:"space-around",padding:"1rem",borderTop:"2px solid #ffb300"},children:[r||null,n||null]})," "]}):null]})}var y=r(7615);function b(e){let{attributes:t,listeners:r,setNodeRef:n,transform:o}=(0,y.O1)({id:e.id}),a=o?{transform:"translate3d(".concat(o.x,"px, ").concat(o.y,"px, 0)")}:void 0;return(0,i.jsx)("div",{ref:n,style:a,...r,...t,children:e.children})}var f=r(345),j=r.n(f),S={src:"/Dashboard/hydrosim/appl//_next/static/media/catchment.c866e452.svg",height:630,width:630,blurWidth:0,blurHeight:0};function v(e){let{style:t}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.default,{"data-type":"catchment",src:S,height:70,width:70,alt:"A logo of an urban street with buildings and other infrastructure",style:t})})}var w={src:"/Dashboard/hydrosim/appl//_next/static/media/storm.c2b018f6.svg",height:630,width:630,blurWidth:0,blurHeight:0};function C(e){let{style:t}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.default,{"data-type":"storm",src:w,height:70,width:70,alt:"A logo of a cloud with rainfall",style:t})})}function Z(e){let{isOver:t,setNodeRef:r}=(0,y.Zj)({id:e.id});e.currentStorm,e.currentCatchment;let n=e.draggableCurrentStorm,o=e.draggableCurrentCatchment;return(0,i.jsx)("div",{ref:r,style:{display:"flex",justifyContent:"center"},children:(0,i.jsxs)("div",{style:{border:t?"0.1rem solid rgba(0, 0, 0, 1)":void 0,backgroundColor:t?"rgba(0, 0, 0, 1)":void 0,boxShadow:t?"rgba(0, 0, 0, 0.25) 15px 20px 38px, rgba(0, 0, 0, 0.22) 0px 20px 20px":void 0,borderRadius:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",columnGap:"2rem",padding:"2rem",width:"35rem",height:"12rem",backgroundColor:"rgba(225, 222, 228, 0.808)",borderRadius:"1rem",opacity:"0.9"},children:[(0,i.jsxs)("div",{className:j().catchmentSlot,children:[" ",o||(0,i.jsx)(v,{style:{opacity:.5,borderRadius:"50%",boxShadow:"0 0 10px 5px gray"}})]}),(0,i.jsxs)("div",{className:j().stormSlot,children:[" ",n||(0,i.jsx)(C,{style:{opacity:.5,border:"solid 1px gray",borderRadius:"50%",boxShadow:"0 0 10px 5px gray"}})]})]})})}class k{intensityToValues(e){let t=[];return e.forEach((e,r)=>{t.push(this.timeStep/60*e)}),t}constructor(e=null,t,r=[0,15,30,45,60,75,90,105,120,135,150,165,180],i=[5,8,12,55,74,112,78,56,55,32,4,2,1]){var n;let o;this.timeData=r,this.timeStep=r[1]-r[0],this.precipitationDataIntensity=i,this.precipitationData=this.intensityToValues(this.precipitationDataIntensity),this.cumulativePrecipitation=(n=this.precipitationData,o=[],n.forEach((e,t)=>{let r=0;for(let e=0;e<=t;e++)r+=n[e];o.push(r)}),o),this.name=t,this.id=e}}class I{constructor(e=null,t,r=1,i=30,n=1,o=85,a=40){this.name=t,this.areaHectares=r,this.imperviousPercent=i,this.slopePercent=n,this.curveNumber=o,this.sParameter=1e3/o+10,this.flowLength=a,this.roughnessCoeff=this.imperviousPercent<=20?.013:.25,this.timeToPeak=this.imperviousPercent<=20?null:this.kinematicWaveK,this.id=e}}var T=r(6136),D=r(1196);function P(e){let{chartData:t,header:r,XLabel:n,YLabel:o,Context:s}=e,c=(0,a.Z)(),d={maintainAspectRatio:!1,responsive:!0,datasets:{line:{backgroundColor:c.palette.secondary.main,borderColor:c.palette.secondary.main}},elements:{line:{backgroundColor:c.palette.secondary.main}},scales:{x:{ticks:{color:"black"},grid:{color:"rgba(0,0,0,0.4)"},title:{display:!0,text:n,color:"black"}},y:{ticks:{color:"black"},grid:{color:"rgba(0,0,0,0.4)"},color:"rgba(255,255,255,0.3)",title:{display:!0,text:o,color:"black"},min:0}},plugins:{legend:{position:"top",labels:{color:"black"}},title:{display:!0,text:s,color:"black"}}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.Z,{style:{width:"100%",alignItems:"center",justifyContent:"center",display:"flex",columnGap:"1rem"},children:[" ",r]}),(0,i.jsx)(l.Z,{minHeight:"24rem",bgcolor:c.palette.primary.light,sx:{padding:"1rem",boxShadow:"rgba(0, 0, 0, 0.25) 0px 14px 28px, rgba(0, 0, 0, 0.22) 0px 10px 10px",borderRadius:"2rem"},children:(0,i.jsx)(D.x1,{data:t,options:d})})]})}var _=r(3584),O=r(2293),R=r(3206),N=r(2961),E=r(9186),M=r(4111),F=r(6608),L=r(1848),H=r(6100),W=r(2586);function V(e){let{isRegistering:t,handleNotRegistering:r,handleRegistering:n}=e,[s,c]=(0,o.useState)(""),[d,u]=(0,o.useState)(""),[m,p]=(0,o.useState)(""),[x,g]=(0,o.useState)(""),[y,b]=(0,o.useState)(!1),[f,j]=(0,o.useState)(!0),[S,v]=(0,o.useState)(!0),[w,C]=(0,o.useState)(null),[Z,k]=(0,o.useState)(null),[I,T]=(0,o.useState)(null),[D,P]=(0,o.useState)(null),[V,G]=(0,o.useState)(null),[A,z]=(0,o.useState)(!1),U=(0,a.Z)();U.palette.primary.main;let B=U.palette.secondary.main,q={display:"flex",width:"100%",flexDirection:"column",rowGap:"3rem",padding:"1rem",zIndex:"12",alignItems:"center",height:"100%",overflow:"auto"},K={bgcolor:"primary.main",display:"flex",borderRadius:"0.5rem",alignItems:"center",flexDirection:"column",width:"30%",rowGap:"2rem",justifyContent:"center",padding:"2rem",boxShadow:"rgba(0, 0, 0, 0.25) 0px 14px 28px, rgba(0, 0, 0, 0.22) 0px 10px 10px"},Y={padding:"0.25rem",textAlign:"center"},X=()=>z(e=>!e),J=e=>{e.preventDefault()},Q=e=>{c(e.target.value)},$=e=>{u(e.target.value)},ee=async e=>{e.preventDefault(),fetch("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=password&username=".concat(encodeURIComponent(s),"&password=").concat(encodeURIComponent(d))}).then(e=>e.json()).then(e=>{console.log("Token:",e.access_token),console.log(e),console.log(s,d),localStorage.setItem("access_token",e.access_token),P(!0),window.location.reload()}).catch(e=>{console.error("Error:",e),P(!1)})},et=async e=>{if(e.preventDefault(),console.log(f),m===s?v(!0):v(!1),x===d?j(!0):j(!1),!0===Z&&!0===S&&!0===f)try{let e=await fetch("/api/Account/Register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Email:s,Password:d,ConfirmPassword:x})});if(200===e.status)b(!0),T(!0),r();else if(400===e.status){let t=await e.json();b(!1),T(!1),G(t.ModelState[""][1])}}catch(e){throw Error(e)}else T(!1)},er=(0,i.jsxs)(l.Z,{style:q,children:[(0,i.jsx)("h2",{style:Y,children:"Sign in to your account"}),(0,i.jsxs)(l.Z,{component:"form",autoComplete:"off",noValidate:!0,sx:K,children:[(0,i.jsxs)(L.Z,{fullWidth:!0,sx:{m:1},variant:"outlined",color:"secondary",value:s,onChange:Q,children:[(0,i.jsx)(E.Z,{color:"secondary",htmlFor:"email",children:"Email"}),(0,i.jsx)(N.Z,{id:"email",type:"email",label:"Email",sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover > .MuiOutlinedInput-notchedOutline":{borderColor:B}}})]}),(0,i.jsxs)(L.Z,{fullWidth:!0,sx:{m:1},variant:"outlined",color:"secondary",value:d,onChange:$,children:[(0,i.jsx)(E.Z,{color:"secondary",htmlFor:"password",children:"Password"}),(0,i.jsx)(N.Z,{color:"secondary",id:"password",type:A?"text":"password",endAdornment:(0,i.jsx)(M.Z,{position:"end",children:(0,i.jsx)(R.Z,{color:"secondary","aria-label":"toggle password visibility",onClick:X,onMouseDown:J,edge:"end",children:A?(0,i.jsx)(W.Z,{}):(0,i.jsx)(H.Z,{})})}),label:"Password",sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover > .MuiOutlinedInput-notchedOutline":{borderColor:B}}})]}),(0,i.jsx)(h.Z,{fullWidth:!0,color:"secondary",variant:"contained",onClick:ee,type:"submit",children:"Log in"})]}),(0,i.jsxs)("h2",{style:Y,children:["Don't have an account? ",(0,i.jsx)(O.Z,{color:"secondary",onClick:n,href:"#",underline:"hover",children:"Sign up here."})]})]}),ei=(0,i.jsxs)(l.Z,{style:q,children:[(0,i.jsx)("h2",{style:Y,children:"Sign up for SWMShare"}),(0,i.jsxs)(l.Z,{component:"form",autoComplete:"off",noValidate:!0,sx:K,children:[(0,i.jsxs)(L.Z,{fullWidth:!0,sx:{m:1},variant:"outlined",required:!0,color:"secondary",children:[(0,i.jsx)(E.Z,{color:"secondary",htmlFor:"email",children:"User Name"}),(0,i.jsx)(N.Z,{id:"firstName",type:"text",label:"First Name",sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover > .MuiOutlinedInput-notchedOutline":{borderColor:B}}})]}),(0,i.jsxs)(L.Z,{fullWidth:!0,sx:{m:1},variant:"outlined",required:!0,color:"secondary",value:s,onChange:Q,children:[(0,i.jsx)(E.Z,{color:"secondary",htmlFor:"email",children:"Email"}),(0,i.jsx)(N.Z,{id:"email",type:"email",label:"Email",sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover > .MuiOutlinedInput-notchedOutline":{borderColor:B}}})]}),(0,i.jsxs)(L.Z,{fullWidth:!0,sx:{m:1},variant:"outlined",required:!0,color:"secondary",value:m,onChange:e=>{p(e.target.value)},children:[(0,i.jsx)(E.Z,{color:"secondary",htmlFor:"confirmEmail",children:"Confirm Email"}),(0,i.jsx)(N.Z,{inputProps:{onBlur:e=>{s===m?v(!0):v(!1)}},id:"confirmEmail",type:"email",label:"Confirm Email",sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover > .MuiOutlinedInput-notchedOutline":{borderColor:B}}}),(0,i.jsxs)(F.Z,{color:"secondary",children:[" ",S?null:"Emails do not match."," "]})]}),(0,i.jsxs)(L.Z,{fullWidth:!0,sx:{m:1},variant:"outlined",required:!0,color:"secondary",value:d,onChange:$,children:[(0,i.jsx)(E.Z,{color:"secondary",htmlFor:"password",children:"Password"}),(0,i.jsx)(N.Z,{color:"secondary",inputProps:{onBlur:()=>{RegExp("(?=.*[^a-zA-Z0-9])(?=.*[A-Z]).+").test(d)?k(!0):k(!1)}},id:"password",type:A?"text":"password",endAdornment:(0,i.jsx)(M.Z,{position:"end",children:(0,i.jsx)(R.Z,{color:"secondary","aria-label":"toggle password visibility",onClick:X,onMouseDown:J,edge:"end",children:A?(0,i.jsx)(W.Z,{}):(0,i.jsx)(H.Z,{})})}),label:"Password",sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover > .MuiOutlinedInput-notchedOutline":{borderColor:B}}}),(0,i.jsxs)(F.Z,{color:"secondary",children:[" ",Z?null:null===Z?null:"Please enter a minimum 6-character password with at least one non-alphanumeric character and one uppercase character."," "]})]}),(0,i.jsxs)(L.Z,{fullWidth:!0,sx:{m:1},variant:"outlined",required:!0,color:"secondary",value:x,onChange:e=>{g(e.target.value)},children:[(0,i.jsx)(E.Z,{color:"secondary",htmlFor:"confirmPassword",children:"Confirm Password"}),(0,i.jsx)(N.Z,{color:"secondary",inputProps:{onBlur:()=>{console.log(d===x),d===x?j(!0):j(!1)}},id:"confirmPassword",type:A?"text":"password",endAdornment:(0,i.jsx)(M.Z,{position:"end",children:(0,i.jsx)(R.Z,{color:"secondary","aria-label":"toggle password visibility",onClick:X,onMouseDown:J,edge:"end",children:A?(0,i.jsx)(W.Z,{}):(0,i.jsx)(H.Z,{})})}),label:"Confirm Password",sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover > .MuiOutlinedInput-notchedOutline":{borderColor:B}}}),(0,i.jsxs)(F.Z,{children:[" ",f?null:"Passwords do not match."," "]})]}),(0,i.jsx)(h.Z,{fullWidth:!0,color:"secondary",onClick:et,variant:"contained",type:"submit",children:"REGISTER"}),null===I?(0,i.jsx)("p",{}):I?(0,i.jsx)("p",{}):(0,i.jsxs)(_.Z,{severity:"error",children:["Registration failed. ",null===V?null:V]})]}),(0,i.jsxs)("h2",{style:Y,children:["Have an account already? ",(0,i.jsx)(O.Z,{color:"secondary",onClick:r,href:"#",underline:"hover",children:"Click here to sign in."})," "]})]});return(0,i.jsx)("div",{style:q,children:t?ei:er})}var G=r(5778),A=r(470),z={src:"/Dashboard/hydrosim/appl//_next/static/media/save.e6de3be2.svg",height:24,width:24,blurWidth:0,blurHeight:0},U=r(9835);function B(e){let{editingObject:t,editSubmission:r,saveEdits:n}=e,[s,l]=(0,o.useState)(t||5),d=t?Object.keys(t):null;t&&Object.values(t);let u=(0,a.Z)(),m=["cumulativePrecipitation","timeStep","roughnessCoeff","sParameter","timeToPeak","id","precipitationData"],p={name:"Name",precipitationDataIntensity:"Precipitation (intensity - mm/hr)",timeData:"Time series (minutes)",areaHectares:"Area (hectares)",imperviousPercent:"Percent Impervious (%)",slopePercent:"Slope Percent (%)",curveNumber:"SCS Curve Number",flowLength:"Flow length (m)"};return(0,i.jsxs)(A.Z,{elevation:20,sx:{display:"flex",flexDirection:"column",bgcolor:"primary.main",rowGap:"1rem",padding:"2rem",textShadow:"0px 0px 2px rgba(0, 0, 0, 0.26)",borderRadius:"1rem"},children:[(0,i.jsx)(U.Z,{sx:{fontSize:"small",marginBottom:"-1rem",letterSpacing:"0.15rem",textShadow:"0px 0px 3px rgba(0, 0, 0, 0.56)"},children:"Editing"}),(0,i.jsx)(U.Z,{color:"secondary.main",sx:{fontSize:"2rem"},children:t.name}),(0,i.jsxs)("form",{style:{display:"flex",flexDirection:"column",rowGap:"1rem",textAlign:"right",fontSize:"1.25rem"},children:[d.map((e,r)=>{if(!m.includes(e))return(0,i.jsxs)(L.Z,{fullWidth:!0,sx:{m:1},variant:"filled",color:"secondary",value:s[e],onChange:t=>{l({...s,[e]:t.target.value})},children:[(0,i.jsx)(E.Z,{color:"secondary",htmlFor:e,children:p[e]}),(0,i.jsx)(G.Z,{id:e,type:"text",label:e,defaultValue:t[e],sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"black"},"&:hover > .MuiOutlinedInput-notchedOutline":{borderColor:u.palette.secondary.main}}})]},e)}),(0,i.jsx)(h.Z,{fullWidth:!0,color:"secondary",variant:"contained",onClick:()=>r(s),type:"button",children:"Recalculate "}),(0,i.jsx)(h.Z,{color:"secondary",variant:"contained",onClick:()=>n(s),type:"button",children:(0,i.jsx)(c.default,{src:z,height:"10%",width:"10%",alt:"save icon"})})]})]})}function q(e){let{contextObject:t,mousePosition:r,editOnClick:n,deleteOnClick:o}=e,a={top:r.y,left:r.x,zIndex:10,position:"absolute",backgroundColor:"var(--main-bg-color)",padding:"0.5rem",fontSize:"1.5rem"},l={borderTop:"solid 1px rgba(92, 92, 92, 0.404)",borderBottom:"solid 1px rgba(92, 92, 92, 0.404)"};return t?(0,i.jsx)("div",{style:a,children:(0,i.jsxs)("ul",{style:{listStyleType:"none"},children:[(0,i.jsx)(s,{children:(0,i.jsxs)("li",{style:l,className:"contextMenu edit",children:["Edit ",t.name]})}),(0,i.jsx)(s,{children:(0,i.jsxs)("li",{style:l,className:"contextMenu delete",children:["Delete ",t.name]})})]})}):null}class K{valuesToIntensity(e){let t=[];return console.log(this.storm.cumulativePrecipitation),e.forEach((e,r)=>{t.push(e/(this.timeStep/60))}),t}calcKinematicWaveK(){let e=Math.max(...this.storm.precipitationDataIntensity);return console.log(e),this.catchment.flowLength**.6*this.catchment.roughnessCoeff**.6/(e**.4*(this.catchment.slopePercent/100)**.3)}scsLosses(e){let t=[],r=this.catchment.sParameter;return e.forEach((e,i)=>{t.push((e-.2*r)**2/(e+.8*r))}),t}linearIUH(){return{prePeakFlowFunc:e=>this.storm.timeStep/this.storm.timeStep*e,peakFlowFunc:e=>(e-Math.exp(-(this.storm.timeStep/this.kinematicWaveK)))/this.storm.timeStep,postPeakFlowFunc:(e,t)=>e*Math.exp(-(t-this.storm.timeStep)/this.kinematicWaveK)}}convolute(e){let t,r=[];return this.effectiveRunoff.forEach((t,i)=>{let n={},o=this.timeStep;n[this.timeStep*(i+1)]=e.peakFlowFunc(t);let a=0;for(console.log(e.peakFlowFunc(t)+"peak flow");e.postPeakFlowFunc(t,o)>.005&&a<1e3;)a++,n[o+this.timeStep*(i+1)]=e.postPeakFlowFunc(t,o+this.timeStep),o+=this.timeStep;r.push(n)}),console.log(r),t={},r.forEach((e,r)=>{for(let r in e)void 0===t[r]?t[r]=e[r]:t[r]+=e[r]}),t}generateTimeSeriesandIncRunoff(){for(let e in this.Time=[0],this.Value=[0],this.convolutions)this.Time.push(e),this.Value.push(this.convolutions[e]/100*this.catchment.areaHectares*1e4/(60*this.storm.timeStep))}constructor(e=null,t,r){this.timeStep=t.timeStep,this.timeToPeak=this.timeStep,this.storm=t,this.catchment=r,this.kinematicWaveK=this.calcKinematicWaveK(),this.effectiveRunoff=function(e){let t=[];for(let r=e.length-1;r>0;r--)t.push(e[r]-e[r-1]);return t.push(e[0]),t.reverse()}(this.scsLosses(this.storm.cumulativePrecipitation)),this.Value=null,this.Time=null,this.convolutions=this.convolute(this.linearIUH()),this.name="".concat(t.name," on ").concat(r.name),this.generateTimeSeriesandIncRunoff(),this.id=e,this.totalRunoff=this.storm.precipitationData.reduce((e,t)=>e+t)/1e3*(1e4*this.catchment.areaHectares),this.totalLosses=this.effectiveRunoff.reduce((e,t)=>e+t)/1e3*(1e4*this.catchment.areaHectares)}}var Y=r(6566),X=r(5826),J=r(1975),Q=r(4057);function $(e){let{Id:t,Hydrographs:r,Catchments:n,Storms:c}=e,[d,u]=(0,o.useState)(!1),[h,m]=(0,o.useState)(!1),[p,x]=(0,o.useState)(!1),[f,j]=(0,o.useState)(n),[S,w]=(0,o.useState)(c),[T,D]=(0,o.useState)(null),[O,R]=(0,o.useState)(null),[N,E]=(0,o.useState)(!1),[M,F]=(0,o.useState)(null),[L,H]=(0,o.useState)(null),[W,V]=(0,o.useState)(null),[G,A]=(0,o.useState)(!1),[z,U]=(0,o.useState)(!1),[$,ee]=(0,o.useState)({x:null,y:null}),[et,er]=(0,o.useState)(r),[ei,en]=(0,o.useState)(null),[eo,ea]=(0,o.useState)(1),[es,el]=(0,o.useState)(null),[ec,ed]=(0,o.useState)(null),eu=(0,a.Z)(),eh=(0,o.useMemo)(()=>ep(S),[S]),em=(0,o.useMemo)(()=>ep(f),[f]);function ep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.forEach(e=>{e.CatchmentDescription||e.areaHectares?(console.log("cathments"),t[e.CatchmentDescription?e.CatchmentDescription:e.name]=e):(e.StormDescription||e.precipitationDataIntensity)&&(t[e.StormDescription?e.StormDescription:e.name]=e)}),console.log(t,"maptoname"),t}async function ex(){try{let e=await fetch("/api/storms?userId=".concat(encodeURIComponent(t)),{method:"GET"});userStormsArray=(await e.json()).map(e=>new k(null,e.StormDescription,e.Time.split(",").map(e=>Number(e)),e.Value.split(",").map(e=>Number(e)))),w(userStormsArray)}catch(e){console.log(e)}}async function eg(){try{let e=await fetch("/api/UrbanCatchments?userId=".concat(encodeURIComponent(t)),{method:"GET"}),r=(await e.json()).map(e=>new I(null,e.CatchmentDescription,Number(e.ImperviousPercent),Number(e.SlopePercent),Number(e.CurveNumber),Number(e.FlowLength)));j(r)}catch(e){console.log(e)}}(0,o.useEffect)(()=>{},[]),(0,o.useEffect)(()=>{null!==L?m(!0):null===L&&m(!1),null!==M?u(!0):null===M&&u(!1),null!==L&&null!==M&&(x(!0),console.log(M),console.log(M),V(new K(0,M,L)))},[L,M]);let ey={display:"block",backgroundColor:eu.palette.secondary.main},eb=(0,i.jsx)(b,{id:"addCatchment",children:(0,i.jsx)(s,{defaultStyle:{display:"flex",alignItems:"center",justifyContent:"center",border:"0.2rem solid rgba(0,0,0,0)"},style:{border:"0.2rem solid black",borderRadius:"50%",boxShadow:"rgba(0, 0, 0, 0.25) 0px 14px 28px, rgba(0, 0, 0, 0.22) 0px 10px 10px"},children:(0,i.jsx)(v,{style:{borderRadius:"50%",zIndex:15}})})}),ef=(0,i.jsx)(b,{id:"addStorm",children:(0,i.jsx)(s,{defaultStyle:{display:"flex",alignItems:"center",justifyContent:"center",border:"0.2rem solid rgba(0,0,0,0)"},style:{border:"0.2rem solid black",borderRadius:"50%",boxShadow:"rgba(0, 0, 0, 0.25) 0px 14px 28px, rgba(0, 0, 0, 0.22) 0px 10px 10px"},children:(0,i.jsx)(C,{style:{borderRadius:"50%",zIndex:15}})})});function ej(){H(new I(null,"Urban Catchment"))}function eS(){F(new k(null,"Default Storm"))}async function ev(e){eZ(e);let r={Time:M.timeData.toString(),Value:M.precipitationDataIntensity.toString(),UserId:t,StormDescription:M.name.toString(),DateInserted:new Date().toISOString().split("T")[0]};try{let e=await fetch("/api/Storms/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});console.log(e),200===e.status?(ed("Success"),await ex()):400===e.status?ed("Error"):ed("Server Error")}catch(e){console.log(e)}}async function ew(e){eC(e);let r={UserId:t,AreaHectares:L.areaHectares.toString(),ImperviousPercent:L.imperviousPercent.toString(),SlopePercent:L.slopePercent.toString(),CurveNumber:L.curveNumber.toString(),FlowLength:L.flowLength.toString(),CatchmentDescription:L.name.toString(),DateInserted:new Date().toISOString().split("T")[0]};try{let e=await fetch("/api/UrbanCatchments/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});200===e.status?(ed("Success"),await eg()):400===e.status?ed("Error"):ed("Server Error")}catch(e){console.log(e)}}function eC(e){H(new I(e.id,e.name,Number(e.areaHectares),Number(e.imperviousPercent),Number(e.slopePercent),Number(e.curveNumber),Number(e.flowLength)))}function eZ(e){let t,r,i=e.id;"object"==typeof e.precipitationDataIntensity?t=e.precipitationDataIntensity.map(e=>Number(e)):"string"==typeof e.precipitationDataIntensity&&(t=e.precipitationDataIntensity.split(",").map(e=>Number(e))),"object"==typeof e.timeData?r=e.timeData.map(e=>Number(e)):"string"==typeof e.timeData&&(r=e.timeData.split(",").map(e=>Number(e))),console.log(e),F(new k(i,e.name,r,t))}let ek=W?{labels:"string"==typeof W.Time?W.Time.split(","):W.Time,datasets:[{label:"Runoff Curve",data:"string"==typeof W.Value?W.Value.split(","):W.Value}]}:null;return(0,i.jsx)(y.LB,{id:"1",onDragEnd:function(e){let{over:t}=e,r=null;if(null===t&&"storm"===e.active.id.slice(0,5)){F(null);return}if(null===t&&"catchment"===e.active.id.slice(0,9)){H(null);return}"addStorm"===e.active.id?r=eS:"addCatchment"===e.active.id&&(r=ej),R(t?t.id:null),t&&r&&r()},onDragStart:function(e){E(!1)},children:(0,i.jsxs)(l.Z,{sx:{bgcolor:"primary.dark",display:"flex",color:"primary.contrastText",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",minHeight:"100vh",width:"100%"},onClick:function(e){console.log(et),"contextMenu"!==e.target.className&&G&&A(!1),console.log(e.target.className),console.log(e.target.value),"contextMenu edit"===e.target.className&&(E(!1),E(!0)),"contextMenu delete"===e.target.className&&(z===L?H(null):z===M&&F(null))},children:[(0,i.jsx)(g,{modalText:(0,i.jsx)(Y.U,{children:"\r\nThis method is the same method used in OTTSWMM. It calculates runoff based on urban and rural runoff using a linear unit hydrograph.\r\n\r\n"}),title:"HydroSim",firstChild:eb,secondChild:ef,DataObjectArray:et||r||[]}),(0,i.jsxs)(l.Z,{color:"primary.main",onContextMenu:function(e){e.preventDefault(),E(!1),A(!1);let{over:t}=e;"storm"===e.target.dataset.type?(U(M),ee({x:e.clientX,y:e.clientY}),A(!0)):"catchment"===e.target.dataset.type&&(U(L),ee({x:e.clientX,y:e.clientY}),A(!0))},sx:{display:"flex",height:"80%",flexDirection:"column",rowGap:"2rem"},children:[(0,i.jsxs)(l.Z,{height:"70%",sx:{display:"flex",columnGap:"3rem",alignItems:"center"},children:[(0,i.jsx)(X.Z,{in:h,appear:!1,children:(0,i.jsx)(l.Z,{children:L?(0,i.jsx)(B,{editSubmission:eC,editingObject:L,saveEdits:ew}):null})}),(0,i.jsx)(X.Z,{in:d,children:(0,i.jsx)(l.Z,{children:M?(0,i.jsx)(B,{editSubmission:eZ,editingObject:M,saveEdits:ev}):null})})]}),(0,i.jsx)(Z,{currentStorm:M,currentCatchment:L,draggableCurrentStorm:M?(0,i.jsx)(s,{defaultStyle:{display:"flex",alignItems:"center",justifyContent:"center",border:"0.2rem solid rgba(0,0,0,0)"},style:{border:"0.2rem solid black",borderRadius:"50%",boxShadow:"rgba(0, 0, 0, 0.25) 0px 14px 28px, rgba(0, 0, 0, 0.22) 0px 10px 10px"},children:(0,i.jsx)(b,{"data-type":"storm",id:"storm-"+M.id,children:(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},"data-type":"storm",children:(0,i.jsx)(C,{"data-type":"storm",style:{borderRadius:"50%"}})})})}):null,id:"0",draggableCurrentCatchment:L?(0,i.jsx)(s,{defaultStyle:{display:"flex",alignItems:"center",justifyContent:"center",border:"0.2rem solid rgba(0,0,0,0)"},style:{border:"0.2rem solid black",borderRadius:"50%",boxShadow:"rgba(0, 0, 0, 0.25) 0px 14px 28px, rgba(0, 0, 0, 0.22) 0px 10px 10px"},children:(0,i.jsx)(b,{"data-type":"catchment",id:"catchment-"+L.id,children:(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},"data-type":"catchment",children:(0,i.jsx)(v,{"data-type":"catchment",style:{borderRadius:"50%"}})})})}):null}),G?(0,i.jsx)(q,{contextObject:z,mousePosition:$}):null]}),(0,i.jsxs)(l.Z,{sx:{bgcolor:"primary.main",display:"flex",color:"black",textShadow:"0px 0px 2px rgba(0, 0, 0, 0.26)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 28px 20px",height:"100vh",width:"20%",padding:"2rem",overflow:"auto",display:"flex",flexDirection:"column",rowGap:"4rem"},children:[(0,i.jsx)(X.Z,{in:p,children:(0,i.jsx)(l.Z,{sx:{display:"flex",flexDirection:"column",rowGap:"2rem"},children:W?(0,i.jsx)(P,{XLabel:"Time (minutes)",YLabel:"Runoff (cms)",Context:"Runoff Hydrograph",chartData:ek,header:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Q.Z,{value:M.name,onChange:e=>{F(eh[e.target.innerText]?eh[e.target.innerText]:M)},disablePortal:!0,id:"combo-box-storms",options:S?eh.map(e=>e.name):[""],sx:{width:"45%"},renderInput:e=>(0,i.jsx)(J.Z,{labelColor:"secondary",color:"secondary",sx:{color:"secondary.main",backgroundColor:"primary.main"},...e,label:"Storm"})}),"on",(0,i.jsx)(Q.Z,{value:L.name,onChange:e=>{H(em[e.target.innerText]?em[e.target.innerText]:L)},disablePortal:!0,id:"combo-box-catchments",options:f?em.map(e=>e.name):[""],sx:{width:"45%"},renderInput:e=>(0,i.jsx)(J.Z,{labelColor:"secondary",color:"secondary",sx:{color:"secondary.main",backgroundColor:"primary.main"},...e,label:"Catchment"})})]})}):null})}),function(){switch(ec){case null:return null;case"Success":return(0,i.jsx)(_.Z,{style:ey,severity:"success",children:"Data saved."});case"Error":return(0,i.jsx)(_.Z,{style:ey,severity:"error",children:"Input error - please check your inputs."});case"Server Error":return(0,i.jsx)(_.Z,{style:ey,severity:"error",children:"Server error: service temporarily unavailable."});default:return(0,i.jsx)(_.Z,{style:ey,severity:"error",children:"Something unexpected occured. Please try again later."})}}()]})]})})}n.ZP.register(T.f$),n.ZP.register(T.uw);var ee={src:"/Dashboard/hydrosim/appl//_next/static/media/swmshare.6ec7dfb9.svg",height:337,width:1049,blurWidth:0,blurHeight:0},et=r(278),er=r(6676),ei=r(3580),en=r(8740),eo=r(1403),ea=r(697),es=r(4253),el={src:"/Dashboard/hydrosim/appl//_next/static/media/appsPicker.8e31983c.svg",height:24,width:24,blurWidth:0,blurHeight:0},ec=function(e){let{pages:t,settings:r,appButton:n,loginButton:s,loginState:d,View:u}=e,[m,p]=o.useState(null),[x,g]=o.useState(null),[y,b]=o.useState(null),f=!!y;(0,a.Z)();let j=e=>{b(null),n("string"==typeof e?e:u)},S=()=>{p(null)};return(0,i.jsx)(et.Z,{sx:{bgcolor:"primary"},width:"100%",position:"static",children:(0,i.jsx)(eo.Z,{maxWidth:"xl",children:(0,i.jsxs)(er.Z,{style:{display:"flex",justifyContent:"space-between"},disableGutters:!0,children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"2rem",justifyContent:"space-between"},children:[(0,i.jsx)(c.default,{src:ee,height:150,width:150,alt:"the SwmShare Logo"}),d?(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)(R.Z,{id:"basic-button",size:"large","aria-controls":f?"basic-menu":void 0,"aria-haspopup":"true",color:"inherit","aria-expanded":f?"true":void 0,onClick:e=>{e.stopPropagation(),b(e.currentTarget)},children:(0,i.jsx)(c.default,{src:el,height:50,width:50,alt:"Icon representing app list"})}),(0,i.jsx)(ei.Z,{disableScrollLock:!0,id:"basic-menu",anchorEl:y,open:f,onClose:j,MenuListProps:{"aria-labelledby":"basic-button",disableScrollLock:"true",marginThreshold:"null"},children:t.map((e,t)=>(0,i.jsx)(ea.Z,{onClick:()=>{j(e)},children:e},e))})," "]}):null,(0,i.jsxs)(l.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,i.jsx)(R.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{p(e.currentTarget)},color:"inherit",children:(0,i.jsx)(en.Z,{})}),(0,i.jsx)(ei.Z,{id:"menu-appbar",anchorEl:m,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!m,onClose:S,sx:{display:{xs:"block",md:"none"}},children:t.map(e=>(0,i.jsx)(ea.Z,{onClick:S,children:(0,i.jsx)(U.Z,{textAlign:"center",children:e})},e))})]}),(0,i.jsx)(es.Z,{sx:{display:{xs:"flex",md:"none"},mr:1}})]}),(0,i.jsxs)("div",{children:[d?(0,i.jsx)(R.Z,{onClick:()=>{n("Account")}}):null,d?(0,i.jsx)(h.Z,{color:"secondary",variant:"contained",onClick:function(){localStorage.removeItem("access_token"),s()},style:{marginLeft:"0.5rem"},size:"small",children:"Logout"}):(0,i.jsx)(h.Z,{color:"secondary",variant:"contained",size:"small",onClick:s,children:"Log in"})]})]})})})};function ed(e){let{loginState:t,loginButton:r,accountViewButton:n,appViews:o,setView:a,appView:s}=e;return(0,i.jsx)("div",{style:{display:"flex",justifyContent:"space-around",width:"100%",alignItems:"center",boxShadow:"rgba(0, 0, 0, 0.25) 5px 0px 6px",zIndex:"5"},children:(0,i.jsx)(ec,{loginButton:r,loginState:t,appButton:a,pages:o,View:s,settings:["test"]})})}function eu(e){let{exitAccountViewButton:t}=e;return(0,i.jsxs)("div",{style:{position:"fixed",left:"50%",bottom:"50%",transform:"translate(-50%, 50%)",display:"flex",width:"30%",flexDirection:"column",rowGap:"3rem",zIndex:"12"},children:[(0,i.jsx)(h.Z,{size:"large",variant:"contained",onClick:t,children:"Back to Dashboard"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Email"}),(0,i.jsx)("li",{children:localStorage.getItem("Email")}),(0,i.jsx)("li",{children:"History"}),(0,i.jsx)("li",{children:"Placeholder"})]})]})}class eh{generateTab(){return this.intensity=this.generatePrePeak().reverse().concat(this.generatePostPeak()),this.sortTime(),this.generateLastPoint(),this}generatePrePeak(){let e=[];for(let t=this.timestep;t<=this.roundToTimestep(this.peaktime);t+=this.timestep)e.push((this.a*(t/this.peaktime*(1-this.c)+this.b)/(t/this.peakRatio+this.b)**(1+this.c)).toFixed(2)),this.time.push(this.roundToTimestep(this.peaktime)-t);return e}roundToTimestep(e){return Math.round(e/this.timestep)*this.timestep}generatePostPeak(){let e=[];for(let t=0;t<=this.roundToTimestep(this.duration)-this.roundToTimestep(this.peaktime);t+=this.timestep)e.push((this.a*(t/(1-this.peakRatio)*(1-this.c)+this.b)/(t/(1-this.peakRatio)+this.b)**(1+this.c)).toFixed(2)),this.time.push(t+this.roundToTimestep(this.peaktime));return e}sortTime(){this.time.sort((e,t)=>e-t)}generateLastPoint(){let e=this.duration-this.peaktime;this.time[this.time.length-1]<this.duration&&(this.time.push(this.duration),this.intensity.push((this.a*(e/(1-this.peakRatio)*(1-this.c)+this.b)/(e/(1-this.peakRatio)+this.b)**(1+this.c)).toFixed(2)))}constructor(e,t,r,i,n,o,a){this.timestep=e,this.duration=t,this.a=r,this.b=i,this.c=n,this.peaktime=o,this.time=[],this.intensity=[],this.peakRatio=o/t,this.description=a}}function em(e){let{submitButton:t,formInputs:r}=e,n=[o.useRef(""),o.useRef(""),o.useRef(""),o.useRef(""),o.useRef(""),o.useRef(""),o.useRef("")];return(0,i.jsxs)(l.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",style:{display:"flex",flexDirection:"column"},children:[r.varNames.map((e,t)=>(0,i.jsx)(J.Z,{required:!0,id:"outlined-number",label:r.varLabels[t],type:"number",InputLabelProps:{shrink:!0},inputRef:n[t]},r.varNames[t])),(0,i.jsx)(J.Z,{required:!0,id:"outlined-string",label:"Description",type:"text",inputProps:{maxLength:48},InputLabelProps:{shrink:!0},inputRef:n[r.varNames.length]}),(0,i.jsx)(h.Z,{variant:"contained",onClick:()=>{let e=[];n.forEach((t,r)=>{e.push(n[r].current.value)}),console.log(e),t(e)},children:"CALCULATE"})]})}var ep={src:"/Dashboard/hydrosim/appl//_next/static/media/sherman.db804aba.svg",height:37,width:92,blurWidth:0,blurHeight:0},ex=r(6520),eg=r(360),ey=r(4558),eb=r(4845),ef=r(412),ej=r(8430);function eS(e){let{XLabel:t,YLabel:r,XData:n,YData:o}=e;return(0,a.Z)(),(0,i.jsx)(eb.Z,{sx:{minWidth:150,maxWidth:250},component:A.Z,children:(0,i.jsxs)(ex.Z,{sx:{minWidth:150,maxWidth:250},size:"small","aria-label":"a dense table",children:[(0,i.jsx)(ef.Z,{children:(0,i.jsxs)(ej.Z,{children:[(0,i.jsx)(ey.Z,{children:t}),(0,i.jsx)(ey.Z,{align:"right",children:r})]})}),(0,i.jsx)(eg.Z,{children:n.map((e,t)=>(0,i.jsxs)(ej.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,i.jsx)(ey.Z,{component:"th",scope:"row",children:n[t]}),(0,i.jsx)(ey.Z,{align:"right",children:o[t]})]},n[t]))})]})})}var ev=r(5195),ew=r(5996);function eC(e){let{Title:t,TextInput:r}=e;return(0,i.jsx)(ev.Z,{sx:{minWidth:175,maxWidth:325},children:(0,i.jsxs)(ew.Z,{children:[(0,i.jsx)(U.Z,{variant:"h5",component:"div",children:t}),(0,i.jsx)(U.Z,{variant:"body2",children:r})]})})}function eZ(e){let{Id:t,Storms:r}=e,[n,s]=(0,o.useState)(null),[d,u]=(0,o.useState)(!1),[m,p]=(0,o.useState)(!1),[x,y]=(0,o.useState)(!1),[b,f]=(0,o.useState)(null),[j,S]=(0,o.useState)({x:null,y:null}),[v,w]=(0,o.useState)(r),[C,Z]=(0,o.useState)(O(r)),[k,I]=(0,o.useState)(null),[T,D]=(0,o.useState)(null);function O(e){let t={};return e.forEach(e=>{t[e.Id]=e}),t}async function R(){let e={Time:b.time.toString(),Value:b.intensity.toString(),userId:t,StormDescription:b.description.toString(),DateInserted:new Date().toISOString().split("T")[0]};try{let t=await fetch("/api/Storms/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});console.log(t),200===t.status?(D("Success"),N(),Z(O(v))):400===t.status?D("Error"):D("Server Error")}catch(e){console.log(e)}}async function N(){try{let e=await fetch("/api/Storms?userId=".concat(encodeURIComponent(t)),{method:"GET"}),r=await e.json();w(r),Z(O(v))}catch(e){console.log(e)}}(0,a.Z)(),(0,o.useRef)({});let E={display:"block"},M=b?{labels:"string"==typeof b.Time?b.Time.split(","):b.time,datasets:[{label:"Hyetograph (Chicago Storm Distribution)",data:"string"==typeof b.Value?b.Value.split(","):b.intensity}]}:null;return(0,i.jsxs)(l.Z,{sx:{bgcolor:"primary.dark",display:"flex",color:"primary.contrastText",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",minHeight:"100vh",width:"100%"},onClick:function(e){"contextMenu"!==e.target.className&&m&&p(!1),"contextMenu edit"===e.target.className&&(u(!1),u(!0)),"contextMenu delete"===e.target.className&&(x===currentCatchment?setCurrentCatchment(null):x===b&&f(null))},children:[(0,i.jsx)(g,{accordionClick:function(e){console.log(v),console.log(e),console.log(C),console.log(C[e]),f(C[e])},DataObjectArray:v,title:"StormTab"}),(0,i.jsxs)(eo.Z,{children:[(0,i.jsx)(c.default,{"data-type":"sherman",src:ep,height:200,width:200,alt:"The Sherman I-D equation"}),(0,i.jsx)(em,{formInputs:{varNames:["Timestep","Duration","a","b","c","TimeToPeak"],varLabels:["Timestep (minutes)","Duration (minutes)","Variable 'a'","Variable 'b'","Variable 'c'","Time-to-peak (minutes)"]},submitButton:function(e){let t=new eh(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3]),Number(e[4]),Number(e[5]),e[6]);t.generateTab(),f(t)}})]}),(0,i.jsxs)(l.Z,{sx:{bgcolor:"primary.main",display:"flex",color:"primary.contrastText",boxShadow:"rgba(0, 0, 0, 0.25) 0px 28px 20px",height:"100vh",width:"20%",padding:"2rem",overflow:"auto",display:"flex",flexDirection:"column",rowGap:"4rem"},children:[b?(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",rowGap:"2rem"},children:[(0,i.jsx)(P,{chartData:M,header:b.StormDescription,XLabel:"Time (minutes)",YLabel:"Intensity (mm/hr)",Context:"Rainfall Hyetograph based on provided inputs"}),(0,i.jsx)(eC,{Title:"Description",TextInput:b.StormDescription}),(0,i.jsx)(eS,{XLabel:"Time (minutes)",YLabel:" Rainfall Intensity (mm/hr)",XData:"string"==typeof b.Time?b.Time.split(","):b.time,YData:"string"==typeof b.Value?b.Value.split(","):b.intensity}),b.Id?null:(0,i.jsx)(h.Z,{variant:"contained",onClick:R,children:"SAVE"}),function(){switch(T){case null:return null;case"Success":return(0,i.jsx)(_.Z,{style:E,severity:"success",children:"Data saved."});case"Error":return(0,i.jsx)(_.Z,{style:E,severity:"error",children:"Input error - please check your inputs."});case"Server Error":return(0,i.jsx)(_.Z,{style:E,severity:"error",children:"Server error: service temporarily unavailable."});default:return(0,i.jsx)(_.Z,{style:E,severity:"error",children:"Something unexpected occured. Please try again later."})}}()]}):null,d?(0,i.jsx)(B,{editingObject:x}):null]})]})}n.ZP.register(T.f$),n.ZP.register(T.uw);var ek=r(9136),eI=r(7155),eT=r(6910);function eD(){let[e,t]=(0,o.useState)(!1),[r,n]=(0,o.useState)(null),[a,s]=(0,o.useState)(!1),[c,d]=(0,o.useState)(null),[u,h]=(0,o.useState)(null),[m,p]=(0,o.useState)(null),[x,g]=(0,o.useState)(!1),[y,b]=(0,o.useState)(!1),[f,j]=(0,o.useState)(null),S="#ffb300",v=(0,ek.Z)({components:{MuiFormHelperText:{styleOverrides:{root:{color:S,"&$error":{color:S}}}},MuiAutocomplete:{styleOverrides:{popper:{backgroundColor:S},listbox:{backgroundColor:S}}},MuiMenu:{styleOverrides:{list:{'&[role="menu"]':{backgroundColor:S,color:"black",textShadow:"0px 0px 2px rgba(0, 0, 0, 0.26)"}}}},MuiInputBase:{styleOverrides:{input:{color:"black"}}},MuiFormLabel:{styleOverrides:{root:{color:"black",textShadow:"0px 0px 2px rgba(0, 0, 0, 0.26)"}}}},palette:{primary:{main:"#455a60"},secondary:{main:S}}});function w(){b(!1)}let C=async e=>{try{let t=await fetch("/api/Account/UserInfo",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}),r=await t.json();localStorage.setItem("Email",r.Email),s(r);let i=await fetch("/api/UrbanCatchments?userId=".concat(encodeURIComponent(r.Id)),{method:"GET"}),n=(await i.json()).map(e=>new I(null,e.CatchmentDescription,Number(e.ImperviousPercent),Number(e.SlopePercent),Number(e.CurveNumber),Number(e.FlowLength)));p(n);let o=await fetch("/api/Storms?userId=".concat(encodeURIComponent(r.Id)),{method:"GET"}),a=(await o.json()).map(e=>new k(null,e.StormDescription,e.Time.split(",").map(e=>Number(e)),e.Value.split(",").map(e=>Number(e))));h(a),console.log(u)}catch(e){console.log(e)}};return(0,o.useEffect)(()=>{let e=localStorage.getItem("access_token");null!=e&&"undefined"!==e&&(t(!0),C(e))},[]),(0,i.jsx)(eI.Z,{theme:v,children:(0,i.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",bgcolor:"primary.dark",color:"primary.contrastText",height:"100vh"},children:[(0,i.jsx)(ed,{loginState:!!e,appView:f,loginButton:function(){t(!1),g(!1)},accountViewButton:function(){j(!0)},appViews:["HydroSim","StormTab","Account"],setView:function(e){j(e)}}),!0===e?a?function(){switch(f){case null:case"HydroSim":return u?(0,i.jsx)($,{Id:a.Id,Storms:u,Catchments:m,Hydrographs:c}):(0,i.jsx)(l.Z,{sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(eT.Z,{size:"4rem",color:"secondary"})});case"Account":return(0,i.jsx)(eu,{exitAccountViewButton:w});case"StormTab":return(0,i.jsx)(eZ,{Id:a.Id,Storms:u})}}():(0,i.jsx)($,{}):(0,i.jsx)(V,{isRegistering:x,handleNotRegistering:()=>{g(!1)},handleRegistering:()=>g(!0)})]})})}},345:function(e){e.exports={main:"page_main__GlU4n",display:"page_display__Qsd9Y","context-menu":"page_context-menu__Ax_XR",description:"page_description__86bsR",code:"page_code__9lUUd",hydrographContainer:"page_hydrographContainer__9HsRc",catchmentSlot:"page_catchmentSlot__mzyiJ",stormSlot:"page_stormSlot__kaQWG",textSlot:"page_textSlot__1qIQa",center:"page_center__5oHG7","schematic-view":"page_schematic-view__Zx9ap",logo:"page_logo__7fc9l",card:"page_card__QV0Om",content:"page_content__kDoxQ",grid:"page_grid__f5Kdy",vercelLogo:"page_vercelLogo__rOY_u",rotate:"page_rotate__durgN"}}},function(e){e.O(0,[674,571,475,971,69,744],function(){return e(e.s=4627)}),_N_E=e.O()}]);